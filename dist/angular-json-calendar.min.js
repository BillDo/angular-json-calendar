!function(e,a){"object"==typeof exports&&"object"==typeof module?module.exports=a():"function"==typeof define&&define.amd?define("angular-json-calendar",[],a):"object"==typeof exports?exports["angular-json-calendar"]=a():e["angular-json-calendar"]=a()}(this,function(){return function(e){function a(n){if(t[n])return t[n].exports;var r=t[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,a),r.loaded=!0,r.exports}var t={};return a.m=e,a.c=t,a.p="",a(0)}([function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=t(1),r=t(2),d=t(3);a["default"]=angular.module("bc.JsonCalendar",[]).provider("bcCalendarConfig",n.bcCalendarConfig).service("bcCalendarService",r.bcCalendarService).directive("bcCalendar",d.bcCalendarDirective)},function(e,a){"use strict";function t(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0});var n=function(){function e(e,a){for(var t=0;t<a.length;t++){var n=a[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(a,t,n){return t&&e(a.prototype,t),n&&e(a,n),a}}();a.bcCalendarConfig=function(){function e(){t(this,e),this.startDate=moment((new Date).toISOString()).startOf("day").add(1,"days"),this.nestingDepth="month",this.count=1,this.weekdayStyle={letter:["S","M","T","W","T","F","S"],abbreviation:["Sun","Mon","Tue","Wed","Thur","Fri","Sat"],word:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Satday"]},this.weekTitleFormat="abbreviation",this.organizeWeeks=!0}return n(e,[{key:"$get",value:function(){return this}}]),e}()},function(e,a){"use strict";function t(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0});var n=function(){function e(e,a){for(var t=0;t<a.length;t++){var n=a[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(a,t,n){return t&&e(a.prototype,t),n&&e(a,n),a}}();a.bcCalendarService=function(){function e(){"ngInject";t(this,e)}return n(e,[{key:"doMonthsMatch",value:function(e,a){var t=!1,n=moment(e).month(),r=moment(a).month();return n===r&&(t=!0),t}},{key:"getDaysInMonth",value:function(e,a){for(var t=new Date(a,e,1),n=[];t.getMonth()===e;)n.push(moment(t).hour(0).minute(0).second(0).format()),t.setDate(t.getDate()+1);return n}},{key:"createDaysArray",value:function(e){var a=void 0,t=[];for(a=0;e>a;a+=1)t.push(a);return t}}]),e}()},function(e,a,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){"ngInject";function a(e,a,n,r){console.log("depth: ",r.nestingDepth,t[r.nestingDepth]),r.getTemplateUrl=function(){return t[r.nestingDepth]}}var t={year:s["default"],month:u["default"],week:m["default"],day:h["default"]},n={restrict:"E",replace:!0,scope:{},bindToController:{bcStartDate:"@?",bcNestingDepth:"@?",bcCount:"@?",bcWeekTitleFormat:"@?"},link:a,templateUrl:c["default"],controller:d.CalendarController,controllerAs:"vm"};return n}r.$inject=["$compile"],Object.defineProperty(a,"__esModule",{value:!0}),a.bcCalendarDirective=r;var d=t(4),i=t(5),c=n(i),o=t(6),s=n(o),l=t(7),u=n(l),y=t(8),m=n(y),f=t(9),h=n(f)},function(e,a){"use strict";function t(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0});var n=function(){function e(e,a){for(var t=0;t<a.length;t++){var n=a[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(a,t,n){return t&&e(a.prototype,t),n&&e(a,n),a}}();a.CalendarController=function(){function e(a,n){"ngInject";t(this,e),this.bcCalendarConfig=a,this.bcCalendarService=n,this._activate()}return e.$inject=["bcCalendarConfig","bcCalendarService"],n(e,[{key:"_activate",value:function(){this.today=this.bcCalendarConfig.startDate,this.startDate=this.startDate||this.bcCalendarConfig.startDate,this.count=parseInt(this.bcCount||this.bcCalendarConfig.count,10),this.nestingDepth=this.bcNestingDepth||this.bcCalendarConfig.nestingDepth,this.weekdays=this.bcWeekTitleFormat?this.bcCalendarConfig.weekdayStyle[this.bcWeekTitleFormat]:this.bcCalendarConfig.weekdayStyle[this.bcCalendarConfig.weekTitleFormat],this.calendarDuration=moment.duration(this.count,this.bcCalendarConfig.interval),this.calendarDays=this.calendarDuration.asDays(),this.todayDayOfMonth=moment(this.startDate).date(),this.todayDayOfWeek=moment(this.startDate).day(),this.selectedDate=null;var e={year:2016,month:0,day:5},a=100,t=this._buildDays(a,new Date(e.year,e.month,e.day).toISOString());console.log("tempDays: ",t),this.calendar=this._organizeMonths(t)}},{key:"build",value:function(e,a){for(var t=[],n=-1;a>n;){n+=1,0!==n&&(e=moment(e).startOf("month"));var r=this._getDaysInMonth(moment(e).add(n,"months"));if(0===n){var d=this._padDaysLeft(r,this.todayDayOfWeek);r=d.concat(r)}if(n===a){var i=this._padWeekRight(r,r[r.length-1]);Array.prototype.push.apply(r,i)}t.push(r)}return this.organizeWeeks&&(t=this._organizeWeeks(t)),console.log("collection: ",t),t}},{key:"isBeforeToday",value:function(e){return moment(e).isBefore(this.startDate)}},{key:"isDayToday",value:function(e){return moment(e).isSame(this.startDate)}},{key:"isDaySelected",value:function(){}},{key:"selectDate",value:function(){}},{key:"_buildDays",value:function(e,a){for(var t=0,n=[],r=void 0;e>t;)r=moment(a).add(t,"days").toISOString(),n.push(r),t+=1;return n}},{key:"_getDaysInMonth",value:function(e){for(var a=moment(e),t=[],n=moment(e);moment(n).isSame(a,"month");)t.push(moment(n).startOf("day").format()),n=moment(n).add(1,"days");return t}},{key:"_integerToArray",value:function(e){var a=void 0,t=[];for(a=0;e>a;a+=1)t.push(a);return t}},{key:"_organizeMonths",value:function(e){var a=e,t=void 0,n=moment(a[0]).date(),r=moment(a[0]).daysInMonth(),d=[];if(moment(a[0]).date()>0){t=a.slice(0,r-(n-1));var i=this._padDaysLeft(t[0],n-1);a=i.concat(a)}for(;a.length>0;)n=moment(moment(a[0])).date(),r=moment(a[0]).daysInMonth(),t=a.splice(0,r-(n-1)),d.push(t);return console.info("RETURNING: ",d),d}},{key:"_organizeWeeks",value:function(e){var a=this,t=7;return e.forEach(function(n,r){e[r]=a._chunk(n,t)}),e}},{key:"_chunk",value:function(e,a){for(var t=[],n=0,r=e.length/parseInt(a,10);r>n;)t[n]=e.splice(0,a),n+=1;return t}},{key:"_padDaysLeft",value:function(e,a){var t=[],n=this._integerToArray(a);for(var r in n){var d=parseInt(r,10)+1,i=moment(e).subtract(d,"days").toISOString();t.unshift(i)}return t}},{key:"_padWeekRight",value:function(e,a){var t=7,n=moment(a).day(),r=t-(n+1);return this._integerToArray(r)}}]),e}()},function(e,a){var t="/Users/bc/Code/open-source/angular-json-calendar/src/templates/calendar.html",n='<section class=bc-calendar> <header class=bc-calendar__header> <span class="bc-calendar__day bc-calendar__day--header" data-ng-repeat="day in vm.weekdays track by $index"> <strong class=bc-calendar__day-title> {{ day }} </strong> </span> </header> <div ng-include=vm.getTemplateUrl()></div> </section>';window.angular.module("ng").run(["$templateCache",function(e){e.put(t,n)}]),e.exports=t},function(e,a){var t="/Users/bc/Code/open-source/angular-json-calendar/src/templates/year.html",n='<div class=bc-calendar__year data-ng-repeat="year in vm.calendar track by $index"> <div class=bc-calendar__month data-ng-repeat="month in year track by $index"> <div class=bc-calendar__week data-ng-repeat="week in month track by $index"> <span class=bc-calendar__day data-ng-class="{ \'bc-calendar__day--disabled\': vm.isBeforeToday(day),\n                         \'bc-calendar__day--today\': vm.isDayToday(day),\n                         \'bc-calendar__day--even\': $even }" data-ng-click=vm.selectDate(day) data-ng-repeat="day in week track by $index"> <time class=bc-calendar__day-time data-ng-class="{ \'bc-calendar__time--selected\': vm.isDaySelected(day) }" datetime="{{ day | date:\'MMMM Do, YYYY\' }}" title="{{ day }}" data-ng-if="day.length > 2"> {{ day | date:\'MM/dd/yy\' }} <small> {{ day | date:\'EEE\' }} </small> </time> <span class=bc-calendar__day-time data-ng-if="day.length < 3"></span> </span> </div> </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(t,n)}]),e.exports=t},function(e,a){var t="/Users/bc/Code/open-source/angular-json-calendar/src/templates/month.html",n='<div class=bc-calendar__month data-ng-repeat="month in vm.calendar track by $index"> <div class=bc-calendar__week data-ng-repeat="week in month track by $index"> <span class=bc-calendar__day data-ng-class="{ \'bc-calendar__day--disabled\': vm.isBeforeToday(day),\n                       \'bc-calendar__day--today\': vm.isDayToday(day),\n                       \'bc-calendar__day--even\': $even }" data-ng-click=vm.selectDate(day) data-ng-repeat="day in week track by $index"> <time class=bc-calendar__day-time data-ng-class="{ \'bc-calendar__time--selected\': vm.isDaySelected(day) }" datetime="{{ day | date:\'MMMM Do, YYYY\' }}" title="{{ day }}" data-ng-if="day.length > 2"> {{ day | date:\'MM/dd/yy\' }} <small> {{ day | date:\'EEE\' }} </small> </time> <span class=bc-calendar__day-time data-ng-if="day.length < 3"></span> </span> </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(t,n)}]),e.exports=t},function(e,a){var t="/Users/bc/Code/open-source/angular-json-calendar/src/templates/week.html",n='<div class=bc-calendar__week data-ng-repeat="week in vm.calendar track by $index"> <span class=bc-calendar__day data-ng-class="{ \'bc-calendar__day--disabled\': vm.isBeforeToday(day),\n                     \'bc-calendar__day--today\': vm.isDayToday(day),\n                     \'bc-calendar__day--even\': $even }" data-ng-click=vm.selectDate(day) data-ng-repeat="day in week track by $index"> <time class=bc-calendar__day-time data-ng-class="{ \'bc-calendar__time--selected\': vm.isDaySelected(day) }" datetime="{{ day | date:\'MMMM Do, YYYY\' }}" title="{{ day }}" data-ng-if="day.length > 2"> {{ day | date:\'MM/dd/yy\' }} <small> {{ day | date:\'EEE\' }} </small> </time> <span class=bc-calendar__day-time data-ng-if="day.length < 3"></span> </span> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(t,n)}]),e.exports=t},function(e,a){var t="/Users/bc/Code/open-source/angular-json-calendar/src/templates/day.html",n="<span class=bc-calendar__day data-ng-class=\"{ 'bc-calendar__day--disabled': vm.isBeforeToday(item),\n                   'bc-calendar__day--today': vm.isDayToday(item),\n                   'bc-calendar__day--even': $even }\" data-ng-click=vm.selectDate(item) data-ng-repeat=\"item in vm.calendar track by $index\"> <time class=bc-calendar__day-time data-ng-class=\"{ 'bc-calendar__time--selected': vm.isDaySelected(item) }\" datetime=\"{{ item | date:'MMMM Do, YYYY' }}\" title=\"{{ item }}\" data-ng-if=\"item.length > 2\"> {{ item | date:'MM/dd/yy' }} <small> {{ item | date:'EEE' }} </small> </time> <span class=bc-calendar__day-time data-ng-if=\"item.length < 3\"></span> </span>";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,n)}]),e.exports=t}])});
//# sourceMappingURL=angular-json-calendar.min.js.map