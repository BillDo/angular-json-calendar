!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("angular-json-calendar",[],t):"object"==typeof exports?exports["angular-json-calendar"]=t():e["angular-json-calendar"]=t()}(this,function(){return function(e){function t(a){if(n[a])return n[a].exports;var r=n[a]={exports:{},id:a,loaded:!1};return e[a].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),r=n(2),o=n(3),i=n(11),c=n(12),l=n(13);t["default"]=angular.module("bc.JsonCalendar",[]).provider("bcCalendarConfig",a.bcCalendarConfig).service("bcCalendarService",r.bcCalendarService).directive("bcCalendar",o.bcCalendarDirective).directive("bcMonth",i.bcMonthDirective).directive("bcWeek",c.bcWeekDirective).directive("bcDay",l.bcDayDirective)},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.bcCalendarConfig=function(){function e(){n(this,e),this.startDate=moment((new Date).toISOString()).startOf("day").add(1,"days"),this.nestingDepth="month",this.count=1,this.weekdayStyle={letter:["S","M","T","W","T","F","S"],abbreviation:["Sun","Mon","Tue","Wed","Thur","Fri","Sat"],word:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Satday"]},this.weekTitleFormat="abbreviation",this.organizeWeeks=!0}return a(e,[{key:"$get",value:function(){return this}}]),e}()},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.bcCalendarService=function(){function e(){"ngInject";n(this,e)}return a(e,[{key:"doMonthsMatch",value:function(e,t){var n=!1,a=moment(e).month(),r=moment(t).month();return a===r&&(n=!0),n}},{key:"getDaysInMonth",value:function(e,t){for(var n=new Date(t,e,1),a=[];n.getMonth()===e;)a.push(moment(n).hour(0).minute(0).second(0).format()),n.setDate(n.getDate()+1);return a}},{key:"createDaysArray",value:function(e){var t=void 0,n=[];for(t=0;e>t;t+=1)n.push(t);return n}}]),e}()},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e){"ngInject";function t(e,t,a,r){r.getTemplateUrl=function(){return n[r.nestingDepth]}}var n={year:s["default"],month:u["default"],week:y["default"],day:m["default"]},a={restrict:"E",replace:!0,scope:{},bindToController:{bcStartDate:"@?",bcNestingDepth:"@?",bcCount:"@?",bcWeekTitleFormat:"@?"},link:t,templateUrl:c["default"],controller:o.CalendarController,controllerAs:"vm"};return a}r.$inject=["$compile"],Object.defineProperty(t,"__esModule",{value:!0}),t.bcCalendarDirective=r;var o=n(4),i=n(5),c=a(i),l=n(6),s=a(l),d=n(7),u=a(d),f=n(8),y=a(f),h=n(9),m=a(h),v=n(10);a(v)},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.CalendarController=function(){function e(t,a){"ngInject";n(this,e),this.bcCalendarConfig=t,this.bcCalendarService=a,this._activate()}return e.$inject=["bcCalendarConfig","bcCalendarService"],a(e,[{key:"_activate",value:function(){this.today=this.bcCalendarConfig.startDate,this.startDate=this.startDate||this.bcCalendarConfig.startDate,this.count=parseInt(this.bcCount||this.bcCalendarConfig.count,10),this.nestingDepth=this.bcNestingDepth||this.bcCalendarConfig.nestingDepth,this.weekdays=this.bcWeekTitleFormat?this.bcCalendarConfig.weekdayStyle[this.bcWeekTitleFormat]:this.bcCalendarConfig.weekdayStyle[this.bcCalendarConfig.weekTitleFormat],this.WEEK_LENGTH=7,this.calendarDuration=moment.duration(this.count,this.bcCalendarConfig.interval),this.calendarDays=this.calendarDuration.asDays(),this.todayDayOfMonth=moment(this.startDate).date(),this.todayDayOfWeek=moment(this.startDate).day(),this.selectedDate=null;var e={year:2016,month:3,day:11},t=100,n=this._buildDays(t,new Date(e.year,e.month,e.day).toISOString());this.bcCollection=this._organizeMonths(n),console.log("this.bcCalendar: ",this.bcCalendar)}},{key:"build",value:function(e,t){for(var n=[],a=-1;t>a;){a+=1,0!==a&&(e=moment(e).startOf("month"));var r=this._getDaysInMonth(moment(e).add(a,"months"));if(0===a){var o=this._padDaysLeft(r,this.todayDayOfWeek);r=o.concat(r)}if(a===t){var i=this._padWeekRight(r,r[r.length-1]);Array.prototype.push.apply(r,i)}n.push(r)}return this.organizeWeeks&&(n=this._organizeWeeks(n)),n}},{key:"isBeforeToday",value:function(e){return moment(e).isBefore(this.startDate)}},{key:"isDayToday",value:function(e){return moment(e).isSame(this.startDate)}},{key:"isDaySelected",value:function(){}},{key:"selectDate",value:function(){}},{key:"_buildDays",value:function(e,t){for(var n=0,a=[],r=void 0;e>n;)r=moment(t).add(n,"days").toISOString(),a.push({date:r}),n+=1;return a}},{key:"_getDaysInMonth",value:function(e){for(var t=moment(e),n=[],a=moment(e);moment(a).isSame(t,"month");)n.push(moment(a).startOf("day").format()),a=moment(a).add(1,"days");return n}},{key:"_integerToArray",value:function(e){var t=void 0,n=[];for(t=0;e>t;t+=1)n.push(t);return n}},{key:"_organizeMonths",value:function(e){var t=[],n=e,a=void 0,r=moment(n[0].date).date(),o=moment(n[0].date).daysInMonth();if(moment(n[0].date).date()>0){a=n.slice(0,o-(r-1));var i=this._padDaysLeft(a[0].date,r-1);n=i.concat(n)}for(;n.length>0;){r=moment(n[0].date).date(),o=moment(n[0].date).daysInMonth(),a=n.splice(0,o-(r-1));var c=moment(a[0].date).day();c>0&&(a=this._padBlankTiles(a,c,"left"));var l=this.WEEK_LENGTH-(moment(a[a.length-1].date).day()+1);l>0&&(a=this._padBlankTiles(a,l,"right")),t.push(this._organizeWeeks(a))}return console.info("RETURNING: ",t),t}},{key:"_organizeWeeks",value:function(e){return this._chunk(e)}},{key:"_chunk",value:function(e){for(var t=arguments.length<=1||void 0===arguments[1]?this.WEEK_LENGTH:arguments[1],n=[],a=0,r=e.length/parseInt(t,10);r>a;)n[a]=e.splice(0,t),a+=1;return n}},{key:"_padBlankTiles",value:function(e,t){var n=arguments.length<=2||void 0===arguments[2]?"left":arguments[2],a=void 0,r=[];for(a=0;t>a;a+=1)r.push({date:null});return"right"===n?e.concat(r):"left"===n?r.concat(e):void 0}},{key:"_padDaysLeft",value:function(e,t){var n=[],a=this._integerToArray(t);for(var r in a){var o=parseInt(r,10)+1,i=moment(e).subtract(o,"days").toISOString();n.unshift({date:i})}return n}},{key:"_padWeekRight",value:function(e,t){var n=[],a=7,r=moment(t).day(),o=this._integerToArray(a-(r+1));for(var i in o)n.push({date:null});return this._integerToArray(o)}}]),e}()},function(e,t){var n="/Users/bc/Code/open-source/angular-json-calendar/src/templates/calendar.html",a='<section class=bc-calendar> <header class=bc-calendar__header> <span class="bc-calendar__day bc-calendar__day--header" data-ng-repeat="day in vm.weekdays track by $index"> <strong class=bc-calendar__day-title> {{ day }} </strong> </span> </header> <div data-ng-include=vm.getTemplateUrl()></div> </section>';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,a)}]),e.exports=n},function(e,t){var n="/Users/bc/Code/open-source/angular-json-calendar/src/templates/year.html",a='<div class=bc-calendar__year data-ng-repeat="year in vm.bcCollection track by $index"> <bc-month bc-collection=year></bc-month> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,a)}]),e.exports=n},function(e,t){var n="/Users/bc/Code/open-source/angular-json-calendar/src/templates/month.html",a='<div class=bc-calendar__month data-ng-repeat="month in vm.bcCollection track by $index"> <bc-week bc-collection=month></bc-week> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,a)}]),e.exports=n},function(e,t){var n="/Users/bc/Code/open-source/angular-json-calendar/src/templates/week.html",a='<div class=bc-calendar__week data-ng-repeat="week in vm.bcCollection track by $index"> <bc-day bc-collection=week></bc-day> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(n,a)}]),e.exports=n},function(e,t){var n="/Users/bc/Code/open-source/angular-json-calendar/src/templates/day.html",a="<span class=bc-calendar__day data-ng-class=\"{ 'bc-calendar__day--disabled': vm.isBeforeToday(day.date),\n                   'bc-calendar__day--today': vm.isDayToday(day.date),\n                   'bc-calendar__day--even': $even,\n                   'bc-calendar__day--pad': !day.date }\" data-ng-click=vm.selectDate(day.date) data-ng-repeat=\"day in vm.bcCollection track by $index\"> <time class=bc-calendar__day-time data-ng-class=\"{ 'bc-calendar__time--selected': vm.isDaySelected(day.date) }\" datetime=\"{{ day.date | date:'MMMM Do, YYYY' }}\" title=\"{{ day.date }}\" data-ng-if=\"day.date && day.date.length > 3\"> {{ day.date | date:'MM/dd/yy' }} <small> {{ day.date | date:'EEE' }} </small> </time> <span class=bc-calendar__day-time data-ng-if=!day.date></span> </span>";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,a)}]),e.exports=n},function(e,t){var n="/Users/bc/Code/open-source/angular-json-calendar/src/templates/test.html",a="<div> <h1>TEST</h1> <pre>\n{{ vm  | json }}\n</pre> </div>";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,a)}]),e.exports=n},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(){"ngInject";function e(e,t,n,a){console.log("In link: ",e.bcCollection)}var t={restrict:"E",replace:!0,scope:{},bindToController:{bcCollection:"="},templateUrl:i["default"],controller:function(){},controllerAs:"vm",link:e};return t}Object.defineProperty(t,"__esModule",{value:!0}),t.bcMonthDirective=r;var o=n(7),i=a(o)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(){"ngInject";function e(e,t,n,a){console.log("In link: ",e.bcCollection)}var t={restrict:"E",replace:!0,scope:{},bindToController:{bcCollection:"="},templateUrl:i["default"],controller:function(){},controllerAs:"vm",link:e};return t}Object.defineProperty(t,"__esModule",{value:!0}),t.bcWeekDirective=r;var o=n(8),i=a(o)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(){"ngInject";var e={restrict:"E",replace:!0,scope:{},bindToController:{bcCollection:"="},templateUrl:i["default"],controller:function(){},controllerAs:"vm"};return e}Object.defineProperty(t,"__esModule",{value:!0}),t.bcDayDirective=r;var o=n(9),i=a(o)}])});
//# sourceMappingURL=angular-json-calendar.min.js.map