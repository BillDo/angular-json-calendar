!function(e,a){"object"==typeof exports&&"object"==typeof module?module.exports=a():"function"==typeof define&&define.amd?define("angular-json-calendar",[],a):"object"==typeof exports?exports["angular-json-calendar"]=a():e["angular-json-calendar"]=a()}(this,function(){return function(e){function a(n){if(t[n])return t[n].exports;var r=t[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,a),r.loaded=!0,r.exports}var t={};return a.m=e,a.c=t,a.p="",a(0)}([function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=t(1),r=t(2),d=t(3),i=t(10);a["default"]=angular.module("bc.JsonCalendar",[]).provider("bcCalendarConfig",n.bcCalendarConfig).service("bcCalendarService",r.bcCalendarService).directive("bcCalendar",d.bcCalendarDirective).directive("bcDay",i.bcDayDirective)},function(e,a){"use strict";function t(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0});var n=function(){function e(e,a){for(var t=0;t<a.length;t++){var n=a[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(a,t,n){return t&&e(a.prototype,t),n&&e(a,n),a}}();a.bcCalendarConfig=function(){function e(){t(this,e),this.startDate=moment((new Date).toISOString()).startOf("day").add(1,"days"),this.nestingDepth="month",this.count=1,this.weekdayStyle={letter:["S","M","T","W","T","F","S"],abbreviation:["Sun","Mon","Tue","Wed","Thur","Fri","Sat"],word:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Satday"]},this.weekTitleFormat="abbreviation",this.organizeWeeks=!0}return n(e,[{key:"$get",value:function(){return this}}]),e}()},function(e,a){"use strict";function t(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0});var n=function(){function e(e,a){for(var t=0;t<a.length;t++){var n=a[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(a,t,n){return t&&e(a.prototype,t),n&&e(a,n),a}}();a.bcCalendarService=function(){function e(){"ngInject";t(this,e)}return n(e,[{key:"doMonthsMatch",value:function(e,a){var t=!1,n=moment(e).month(),r=moment(a).month();return n===r&&(t=!0),t}},{key:"getDaysInMonth",value:function(e,a){for(var t=new Date(a,e,1),n=[];t.getMonth()===e;)n.push(moment(t).hour(0).minute(0).second(0).format()),t.setDate(t.getDate()+1);return n}},{key:"createDaysArray",value:function(e){var a=void 0,t=[];for(a=0;e>a;a+=1)t.push(a);return t}}]),e}()},function(e,a,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){"ngInject";function a(e,a,n,r){console.log("depth: ",r.nestingDepth,t[r.nestingDepth]),r.getTemplateUrl=function(){return t[r.nestingDepth]}}var t={year:l["default"],month:u["default"],week:f["default"],day:h["default"]},n={restrict:"E",replace:!0,scope:{},bindToController:{bcStartDate:"@?",bcNestingDepth:"@?",bcCount:"@?",bcWeekTitleFormat:"@?"},link:a,templateUrl:o["default"],controller:d.CalendarController,controllerAs:"vm"};return n}r.$inject=["$compile"],Object.defineProperty(a,"__esModule",{value:!0}),a.bcCalendarDirective=r;var d=t(4),i=t(5),o=n(i),c=t(6),l=n(c),s=t(7),u=n(s),y=t(8),f=n(y),m=t(9),h=n(m)},function(e,a){"use strict";function t(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0});var n=function(){function e(e,a){for(var t=0;t<a.length;t++){var n=a[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(a,t,n){return t&&e(a.prototype,t),n&&e(a,n),a}}();a.CalendarController=function(){function e(a,n){"ngInject";t(this,e),this.bcCalendarConfig=a,this.bcCalendarService=n,this._activate()}return e.$inject=["bcCalendarConfig","bcCalendarService"],n(e,[{key:"_activate",value:function(){this.today=this.bcCalendarConfig.startDate,this.startDate=this.startDate||this.bcCalendarConfig.startDate,this.count=parseInt(this.bcCount||this.bcCalendarConfig.count,10),this.nestingDepth=this.bcNestingDepth||this.bcCalendarConfig.nestingDepth,this.weekdays=this.bcWeekTitleFormat?this.bcCalendarConfig.weekdayStyle[this.bcWeekTitleFormat]:this.bcCalendarConfig.weekdayStyle[this.bcCalendarConfig.weekTitleFormat],this.WEEK_LENGTH=7,this.calendarDuration=moment.duration(this.count,this.bcCalendarConfig.interval),this.calendarDays=this.calendarDuration.asDays(),this.todayDayOfMonth=moment(this.startDate).date(),this.todayDayOfWeek=moment(this.startDate).day(),this.selectedDate=null;var e={year:2016,month:3,day:11},a=100,t=this._buildDays(a,new Date(e.year,e.month,e.day).toISOString());this.calendar=this._organizeMonths(t)}},{key:"build",value:function(e,a){for(var t=[],n=-1;a>n;){n+=1,0!==n&&(e=moment(e).startOf("month"));var r=this._getDaysInMonth(moment(e).add(n,"months"));if(0===n){var d=this._padDaysLeft(r,this.todayDayOfWeek);r=d.concat(r)}if(n===a){var i=this._padWeekRight(r,r[r.length-1]);Array.prototype.push.apply(r,i)}t.push(r)}return this.organizeWeeks&&(t=this._organizeWeeks(t)),t}},{key:"isBeforeToday",value:function(e){return moment(e).isBefore(this.startDate)}},{key:"isDayToday",value:function(e){return moment(e).isSame(this.startDate)}},{key:"isDaySelected",value:function(){}},{key:"selectDate",value:function(){}},{key:"_buildDays",value:function(e,a){for(var t=0,n=[],r=void 0;e>t;)r=moment(a).add(t,"days").toISOString(),n.push({date:r}),t+=1;return n}},{key:"_getDaysInMonth",value:function(e){for(var a=moment(e),t=[],n=moment(e);moment(n).isSame(a,"month");)t.push(moment(n).startOf("day").format()),n=moment(n).add(1,"days");return t}},{key:"_integerToArray",value:function(e){var a=void 0,t=[];for(a=0;e>a;a+=1)t.push(a);return t}},{key:"_organizeMonths",value:function(e){var a=[],t=e,n=void 0,r=moment(t[0].date).date(),d=moment(t[0].date).daysInMonth();if(moment(t[0].date).date()>0){n=t.slice(0,d-(r-1));var i=this._padDaysLeft(n[0].date,r-1);t=i.concat(t)}for(;t.length>0;){r=moment(t[0].date).date(),d=moment(t[0].date).daysInMonth(),n=t.splice(0,d-(r-1));var o=moment(n[0].date).day();o>0&&(n=this._padBlankTiles(n,o,"left"));var c=this.WEEK_LENGTH-(moment(n[n.length-1].date).day()+1);c>0&&(n=this._padBlankTiles(n,c,"right")),a.push(this._organizeWeeks(n))}return console.info("RETURNING: ",a),a}},{key:"_organizeWeeks",value:function(e){return this._chunk(e)}},{key:"_chunk",value:function(e){for(var a=arguments.length<=1||void 0===arguments[1]?this.WEEK_LENGTH:arguments[1],t=[],n=0,r=e.length/parseInt(a,10);r>n;)t[n]=e.splice(0,a),n+=1;return t}},{key:"_padBlankTiles",value:function(e,a){var t=arguments.length<=2||void 0===arguments[2]?"left":arguments[2],n=void 0,r=[];for(n=0;a>n;n+=1)r.push({date:null});return"right"===t?e.concat(r):"left"===t?r.concat(e):void 0}},{key:"_padDaysLeft",value:function(e,a){var t=[],n=this._integerToArray(a);for(var r in n){var d=parseInt(r,10)+1,i=moment(e).subtract(d,"days").toISOString();t.unshift({date:i})}return t}},{key:"_padWeekRight",value:function(e,a){var t=[],n=7,r=moment(a).day(),d=this._integerToArray(n-(r+1));for(var i in d)t.push({date:null});return this._integerToArray(d)}}]),e}()},function(e,a){var t="/Users/bc/Code/open-source/angular-json-calendar/src/templates/calendar.html",n='<section class=bc-calendar> <header class=bc-calendar__header> <span class="bc-calendar__day bc-calendar__day--header" data-ng-repeat="day in vm.weekdays track by $index"> <strong class=bc-calendar__day-title> {{ day }} </strong> </span> </header> <div ng-include=vm.getTemplateUrl()></div> </section>';window.angular.module("ng").run(["$templateCache",function(e){e.put(t,n)}]),e.exports=t},function(e,a){var t="/Users/bc/Code/open-source/angular-json-calendar/src/templates/year.html",n='<div class=bc-calendar__year data-ng-repeat="year in vm.calendar track by $index"> <div class=bc-calendar__month data-ng-repeat="month in year track by $index"> <div class=bc-calendar__week data-ng-repeat="week in month track by $index"> <span class=bc-calendar__day data-ng-class="{ \'bc-calendar__day--disabled\': vm.isBeforeToday(day),\n                         \'bc-calendar__day--today\': vm.isDayToday(day),\n                         \'bc-calendar__day--even\': $even,\n                         \'bc-calendar__day--pad\': item.length < 5 }" data-ng-click=vm.selectDate(day) data-ng-repeat="day in week track by $index"> <time class=bc-calendar__day-time data-ng-class="{ \'bc-calendar__time--selected\': vm.isDaySelected(day) }" datetime="{{ day | date:\'MMMM Do, YYYY\' }}" title="{{ day }}" data-ng-if="day.length > 2"> {{ day | date:\'MM/dd/yy\' }} <small> {{ day | date:\'EEE\' }} </small> </time> <span class=bc-calendar__day-time data-ng-if="day.length < 3"></span> </span> </div> </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(t,n)}]),e.exports=t},function(e,a){var t="/Users/bc/Code/open-source/angular-json-calendar/src/templates/month.html",n='<div class=bc-calendar__month data-ng-repeat="month in vm.calendar track by $index"> <div class=bc-calendar__week data-ng-repeat="week in month track by $index"> <bc-day bc-collection=week></bc-day> </div> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(t,n)}]),e.exports=t},function(e,a){var t="/Users/bc/Code/open-source/angular-json-calendar/src/templates/week.html",n="<div class=bc-calendar__week data-ng-repeat=\"week in vm.calendar track by $index\"> <span class=bc-calendar__day data-ng-class=\"{ 'bc-calendar__day--disabled': vm.isBeforeToday(day),\n                     'bc-calendar__day--today': vm.isDayToday(day),\n                     'bc-calendar__day--even': $even,\n                     'bc-calendar__day--pad': item.length < 5 }\" data-ng-click=vm.selectDate(day) data-ng-repeat=\"day in week track by $index\"> <time class=bc-calendar__day-time data-ng-class=\"{ 'bc-calendar__time--selected': vm.isDaySelected(day) }\" datetime=\"{{ day | date:'MMMM Do, YYYY' }}\" title=\"{{ day }}\" data-ng-if=\"day.length > 2\"> {{ day | date:'MM/dd/yy' }} <small> {{ day | date:'EEE' }} </small> </time> <span class=bc-calendar__day-time data-ng-if=\"day.length < 3\"></span> </span> </div>";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,n)}]),e.exports=t},function(e,a){var t="/Users/bc/Code/open-source/angular-json-calendar/src/templates/day.html",n="<span class=bc-calendar__day data-ng-class=\"{ 'bc-calendar__day--disabled': vm.isBeforeToday(day.date),\n                   'bc-calendar__day--today': vm.isDayToday(day.date),\n                   'bc-calendar__day--even': $even,\n                   'bc-calendar__day--pad': !day.date }\" data-ng-click=vm.selectDate(day.date) data-ng-repeat=\"day in vm.bcCollection track by $index\"> <time class=bc-calendar__day-time data-ng-class=\"{ 'bc-calendar__time--selected': vm.isDaySelected(day.date) }\" datetime=\"{{ day.date | date:'MMMM Do, YYYY' }}\" title=\"{{ day.date }}\" data-ng-if=\"day.date && day.date.length > 3\"> {{ day.date | date:'MM/dd/yy' }} <small> {{ day.date | date:'EEE' }} </small> </time> <span class=bc-calendar__day-time data-ng-if=!day.date></span> </span>";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,n)}]),e.exports=t},function(e,a,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(){"ngInject";var e={restrict:"E",replace:!0,scope:{},bindToController:{bcCollection:"="},templateUrl:i["default"],controller:function(){},controllerAs:"vm"};return e}Object.defineProperty(a,"__esModule",{value:!0}),a.bcDayDirective=r;var d=t(9),i=n(d)}])});
//# sourceMappingURL=angular-json-calendar.min.js.map