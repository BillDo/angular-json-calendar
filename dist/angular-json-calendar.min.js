!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("angular-json-calendar",[],t):"object"==typeof exports?exports["angular-json-calendar"]=t():e["angular-json-calendar"]=t()}(this,function(){return function(e){function t(n){if(a[n])return a[n].exports;var r=a[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}([function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(1),r=a(2),o=a(3),i=a(10),c=a(11),l=a(12);t["default"]=angular.module("bc.JsonCalendar",[]).provider("bcCalendarConfig",n.bcCalendarConfig).service("bcCalendarService",r.bcCalendarService).directive("bcCalendar",o.bcCalendarDirective).directive("bcMonth",i.bcMonthDirective).directive("bcWeek",c.bcWeekDirective).directive("bcDay",l.bcDayDirective)},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();t.bcCalendarConfig=function(){function e(){a(this,e),this.startDate=moment((new Date).toISOString()).startOf("day"),this.nestingDepth="month",this.count=1,this.weekdayStyle={letter:["S","M","T","W","T","F","S"],abbreviation:["Sun","Mon","Tue","Wed","Thur","Fri","Sat"],word:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Satday"]},this.weekTitleFormat="abbreviation",this.organizeWeeks=!0}return n(e,[{key:"$get",value:function(){return this}}]),e}()},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();t.bcCalendarService=function(){function e(){"ngInject";a(this,e)}return n(e,[{key:"doMonthsMatch",value:function(e,t){var a=!1,n=moment(e).month(),r=moment(t).month();return n===r&&(a=!0),a}},{key:"getDaysInMonth",value:function(e,t){for(var a=new Date(t,e,1),n=[];a.getMonth()===e;)n.push(moment(a).hour(0).minute(0).second(0).format()),a.setDate(a.getDate()+1);return n}},{key:"createDaysArray",value:function(e){var t=void 0,a=[];for(t=0;e>t;t+=1)a.push(t);return a}}]),e}()},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){"ngInject";function t(e,t,n,r){r.getTemplateUrl=function(){return a[r.nestingDepth]}}var a={year:s["default"],month:u["default"],week:y["default"],day:m["default"]},n={restrict:"E",replace:!0,scope:{},bindToController:{bcStartDate:"@?",bcNestingDepth:"@?",bcCount:"@?",bcWeekTitleFormat:"@?"},link:t,templateUrl:c["default"],controller:o.CalendarController,controllerAs:"vm"};return n}r.$inject=["$compile"],Object.defineProperty(t,"__esModule",{value:!0}),t.bcCalendarDirective=r;var o=a(4),i=a(5),c=n(i),l=a(6),s=n(l),d=a(7),u=n(d),f=a(8),y=n(f),h=a(9),m=n(h)},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();t.CalendarController=function(){function e(t,n){"ngInject";a(this,e),this.bcCalendarConfig=t,this.bcCalendarService=n,this._activate()}return e.$inject=["bcCalendarConfig","bcCalendarService"],n(e,[{key:"_activate",value:function(){this.today=this.bcCalendarConfig.startDate,this.startDate=this.startDate||this.bcCalendarConfig.startDate,this.count=parseInt(this.bcCount||this.bcCalendarConfig.count,10),this.nestingDepth=this.bcNestingDepth||this.bcCalendarConfig.nestingDepth,this.weekdays=this.bcWeekTitleFormat?this.bcCalendarConfig.weekdayStyle[this.bcWeekTitleFormat]:this.bcCalendarConfig.weekdayStyle[this.bcCalendarConfig.weekTitleFormat],this.WEEK_LENGTH=7,this.calendarDuration=moment.duration(this.count,this.bcCalendarConfig.interval),this.calendarDays=this.calendarDuration.asDays(),this.todayDayOfMonth=moment(this.startDate).date(),this.todayDayOfWeek=moment(this.startDate).day(),this.selectedDate=null;var e={year:2016,month:3,day:11},t=100,a=this._buildDays(t,new Date(e.year,e.month,e.day).toISOString());this.bcCollection=this._organizeMonths(a),console.log("this.bcCollection: ",this.bcCollection)}},{key:"build",value:function(e,t){for(var a=[],n=-1;t>n;){n+=1,0!==n&&(e=moment(e).startOf("month"));var r=this._getDaysInMonth(moment(e).add(n,"months"));if(0===n){var o=this._padDaysLeft(r,this.todayDayOfWeek);r=o.concat(r)}if(n===t){var i=this._padWeekRight(r,r[r.length-1]);Array.prototype.push.apply(r,i)}a.push(r)}return this.organizeWeeks&&(a=this._organizeWeeks(a)),a}},{key:"isBeforeToday",value:function(e){return moment(e).isBefore(this.startDate)}},{key:"isDayToday",value:function(e){return moment(e).isSame(this.startDate)}},{key:"isDaySelected",value:function(){}},{key:"selectDate",value:function(){}},{key:"_buildDays",value:function(e,t){for(var a=0,n=[],r=void 0;e>a;)r=moment(t).add(a,"days").toISOString(),n.push({date:r}),a+=1;return n}},{key:"_getDaysInMonth",value:function(e){for(var t=moment(e),a=[],n=moment(e);moment(n).isSame(t,"month");)a.push(moment(n).startOf("day").format()),n=moment(n).add(1,"days");return a}},{key:"_integerToArray",value:function(e){var t=void 0,a=[];for(t=0;e>t;t+=1)a.push(t);return a}},{key:"_organizeMonths",value:function(e){var t=[],a=e,n=void 0,r=moment(a[0].date).date(),o=moment(a[0].date).daysInMonth();if(moment(a[0].date).date()>0){n=a.slice(0,o-(r-1));var i=this._padDaysLeft(n[0].date,r-1);a=i.concat(a)}for(;a.length>0;){r=moment(a[0].date).date(),o=moment(a[0].date).daysInMonth(),n=a.splice(0,o-(r-1));var c=moment(n[0].date).day();c>0&&(n=this._padBlankTiles(n,c,"left"));var l=this.WEEK_LENGTH-(moment(n[n.length-1].date).day()+1);l>0&&(n=this._padBlankTiles(n,l,"right")),t.push(this._organizeWeeks(n))}return t}},{key:"_organizeWeeks",value:function(e){return this._chunk(e)}},{key:"_chunk",value:function(e){for(var t=arguments.length<=1||void 0===arguments[1]?this.WEEK_LENGTH:arguments[1],a=[],n=0,r=e.length/parseInt(t,10);r>n;)a[n]=e.splice(0,t),n+=1;return a}},{key:"_padBlankTiles",value:function(e,t){var a=arguments.length<=2||void 0===arguments[2]?"left":arguments[2],n=void 0,r=[];for(n=0;t>n;n+=1)r.push({date:null});return"right"===a?e.concat(r):"left"===a?r.concat(e):void 0}},{key:"_padDaysLeft",value:function(e,t){var a=[],n=this._integerToArray(t);for(var r in n){var o=parseInt(r,10)+1,i=moment(e).subtract(o,"days").toISOString();a.unshift({date:i})}return a}},{key:"_padWeekRight",value:function(e,t){var a=[],n=7,r=moment(t).day(),o=this._integerToArray(n-(r+1));for(var i in o)a.push({date:null});return this._integerToArray(o)}}]),e}()},function(e,t){var a="/Users/bc/Code/open-source/angular-json-calendar/src/templates/calendar.html",n='<section class=bc-calendar> <header class=bc-calendar__header> <span class="bc-calendar__day bc-calendar__day--header" data-ng-repeat="day in vm.weekdays track by $index"> <strong class=bc-calendar__day-title> {{ day }} </strong> </span> </header> <div data-ng-include=vm.getTemplateUrl()></div> </section>';window.angular.module("ng").run(["$templateCache",function(e){e.put(a,n)}]),e.exports=a},function(e,t){var a="/Users/bc/Code/open-source/angular-json-calendar/src/templates/year.html",n='<div class=bc-calendar__year data-ng-repeat="year in vm.bcCollection track by $index"> <bc-month bc-collection=year></bc-month> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(a,n)}]),e.exports=a},function(e,t){var a="/Users/bc/Code/open-source/angular-json-calendar/src/templates/month.html",n='<div class=bc-calendar__month data-ng-repeat="month in vm.bcCollection track by $index"> <bc-week bc-collection=month></bc-week> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(a,n)}]),e.exports=a},function(e,t){var a="/Users/bc/Code/open-source/angular-json-calendar/src/templates/week.html",n='<div class=bc-calendar__week data-ng-repeat="week in vm.bcCollection track by $index"> <bc-day bc-collection=week></bc-day> </div>';window.angular.module("ng").run(["$templateCache",function(e){e.put(a,n)}]),e.exports=a},function(e,t){var a="/Users/bc/Code/open-source/angular-json-calendar/src/templates/day.html",n="<span class=bc-calendar__day data-ng-class=\"{ 'bc-calendar__day--disabled': vm.isBeforeToday(day.date),\n                   'bc-calendar__day--today': vm.isDayToday(day.date),\n                   'bc-calendar__day--even': $even,\n                   'bc-calendar__day--pad': !day.date }\" data-ng-click=vm.selectDate(day.date) data-ng-repeat=\"day in vm.bcCollection track by $index\"> <time class=bc-calendar__day-time data-ng-class=\"{ 'bc-calendar__time--selected': vm.isDaySelected(day.date) }\" datetime=\"{{ day.date | date:'MMMM Do, YYYY' }}\" title=\"{{ day.date }}\" data-ng-if=\"day.date && day.date.length > 3\"> {{ day.date | date:'MM/dd/yy' }} <small> {{ day.date | date:'EEE' }} </small> </time> <span class=bc-calendar__day-time data-ng-if=!day.date></span> </span>";window.angular.module("ng").run(["$templateCache",function(e){e.put(a,n)}]),e.exports=a},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(){"ngInject";var e={restrict:"E",replace:!0,scope:{},bindToController:{bcCollection:"="},templateUrl:i["default"],controller:function(){},controllerAs:"vm"};return e}Object.defineProperty(t,"__esModule",{value:!0}),t.bcMonthDirective=r;var o=a(7),i=n(o)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(){"ngInject";var e={restrict:"E",replace:!0,scope:{},bindToController:{bcCollection:"="},templateUrl:i["default"],controller:function(){},controllerAs:"vm"};return e}Object.defineProperty(t,"__esModule",{value:!0}),t.bcWeekDirective=r;var o=a(8),i=n(o)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(){"ngInject";var e={restrict:"E",replace:!0,scope:{},bindToController:{bcCollection:"="},templateUrl:i["default"],controller:function(){},controllerAs:"vm"};return e}Object.defineProperty(t,"__esModule",{value:!0}),t.bcDayDirective=r;var o=a(9),i=n(o)}])});
//# sourceMappingURL=angular-json-calendar.min.js.map